<input type="text" id="studentCode" placeholder="Enter code e.g. TEST001"/>
<button onclick="login()">Login</button>
<script>
const GAS_URL = "https://script.google.com/macros/s/AKfycbwpaKDvJxxuvxZfqkorwP_jXwd-_VMBO0dhzq-nWOKEjgVjVN8AunK4kLf9S4E59RZqrg/exec";
let student = null;

async function login(){
  const code = document.getElementById("studentCode").value.trim();
  if(!code){alert("Enter code"); return;}
  try{
    const res = await fetch(`${GAS_URL}?action=getStudents`);
    const data = await res.json();
    student = data.find(s=>s.Code===code);
    if(!student){alert("Invalid code"); return;}
    alert(`Welcome ${student.Name}, Tokens: ${student.Tokens}`);
  } catch(e){
    console.error(e);
    alert("Error fetching student data");
  }
}
</script>
